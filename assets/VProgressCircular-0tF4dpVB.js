import{c as C,m as _}from"./VContainer-BiihOGiB.js";import{p as b,aI as O,D as V,aT as E,j as d,r as z,s as M,aG as U,W as $,B,g as p,a as A,t as y,u as D,c as n,w as F,f as G,h as i,m as W,l as j}from"./index-CXbUumXd.js";const q=["x-small","small","default","large","x-large"],H=b({size:{type:[String,Number],default:"default"}},"size");function J(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O();return V(()=>{let a,s;return E(q,e.size)?a=`${o}--size-${e.size}`:e.size&&(s={width:d(e.size),height:d(e.size)}),{sizeClasses:a,sizeStyles:s}})}function K(e,o){const a=z(),s=M(!1);if(U){const r=new IntersectionObserver(t=>{s.value=!!t.find(l=>l.isIntersecting)},o);$(()=>{r.disconnect()}),B(a,(t,l)=>{l&&(r.unobserve(l),s.value=!1),t&&r.observe(t)},{flush:"post"})}return{intersectionRef:a,isIntersecting:s}}const L=b({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...j(),...H(),..._({tag:"div"}),...W()},"VProgressCircular"),Y=p()({name:"VProgressCircular",props:L(),setup(e,o){let{slots:a}=o;const s=20,r=2*Math.PI*s,t=z(),{themeClasses:l}=A(e),{sizeClasses:S,sizeStyles:m}=J(e),{textColorClasses:w,textColorStyles:k}=C(y(e,"color")),{textColorClasses:x,textColorStyles:N}=C(y(e,"bgColor")),{intersectionRef:I,isIntersecting:R}=K(),{resizeRef:P,contentRect:f}=D(),u=n(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=n(()=>Number(e.width)),g=n(()=>m.value?Number(e.size):f.value?f.value.width:Math.max(c.value,32)),v=n(()=>s/(1-c.value/g.value)*2),h=n(()=>c.value/g.value*v.value),T=n(()=>d((100-u.value)/100*r));return F(()=>{I.value=t.value,P.value=t.value}),G(()=>i(e.tag,{ref:t,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},l.value,S.value,w.value,e.class],style:[m.value,k.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:u.value},{default:()=>[i("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.value} ${v.value}`},[i("circle",{class:["v-progress-circular__underlay",x.value],style:N.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),i("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":T.value},null)]),a.default&&i("div",{class:"v-progress-circular__content"},[a.default({value:u.value})])]})),{}}});export{Y as V,K as a,H as m,J as u};
